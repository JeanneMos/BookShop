{"version":3,"file":"Modal.bundle.js","mappings":"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","sources":["webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/DefuntInfo/ShareDirectLink.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/DefuntInfo/ShareSocialMedias.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Forms/ForgotPasswordForm.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Forms/FormTextarea.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/DefuntPictureModal.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/ForgotPasswordModal.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/HeroBannerModal.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/HomageModal.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/LoginModal.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/MessagePictureHeroModal.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/Modal.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/ModalSubTitle.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/ModalTitle.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Modal/ShareModal.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Upload/DefuntModalImagePlaceholder.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Upload/ImagePreview.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Upload/InputWithDescription.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Upload/Upload.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/layouts/ButtonsWrapper.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/services/formatting.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/services/useViewport.js"],"sourcesContent":["import React, { useRef } from \"react\";\n\nimport { mobileBreakpoint } from \"../../constants\";\nimport ButtonsWrapper from \"../../layouts/ButtonsWrapper\";\nimport useViewport from \"../../services/useViewport\";\nimport Button from \"../Button/Button\";\nimport Icon from \"../Icons/Icon\";\n\nconst directLink = window.location.href;\nexport default function ShareDirectLink() {\n  const { width } = useViewport();\n  const linkText = useRef(null);\n\n  const hanleCopyLink = () => {\n    if (navigator.clipboard) return navigator.clipboard.writeText(directLink);\n    if (linkText.current) linkText.current.select();\n    const copied = document.execCommand(\"copy\");\n  };\n  return (\n    <div className=\"share-direct-link-wrapper\">\n      <p className=\"share-direct-link-text\">\n        Partager les informations de votre espace en copiant ce lien :\n      </p>\n      <div className=\"share-direct-link\">\n        <input\n          readOnly\n          className=\"share-direct-link-input\"\n          ref={linkText}\n          value={directLink}\n        />\n        {width > mobileBreakpoint && (\n          <Button\n            btnClass=\"bg-transparent copy-link-btn\"\n            type=\"button\"\n            onClickAction={hanleCopyLink}\n          >\n            <Icon name=\"link\" iconClass=\"current-icon\" />\n            <span className=\"separator\">&nbsp;</span>\n            <span className=\"button-text\">copier le lien</span>\n          </Button>\n        )}\n      </div>\n      {width <= mobileBreakpoint && (\n        <ButtonsWrapper position=\"center\" btnWrapperClass=\"mt-10\">\n          <Button\n            btnClass=\"bg-transparent copy-link-btn\"\n            type=\"button\"\n            onClickAction={hanleCopyLink}\n          >\n            <Icon name=\"link\" iconClass=\"current-icon\" />\n            <span className=\"separator\">&nbsp;</span>\n            <span className=\"button-text\">copier le lien</span>\n          </Button>\n        </ButtonsWrapper>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { EmailShareButton, WhatsappShareButton } from \"react-share\";\n\nimport { capitalisedName } from \"../../services/formatting\";\nimport Icon from \"../Icons/Icon\";\n\nconst directLink = window.location.href;\n\nexport default function ShareSocialMedias() {\n  const globalInfoState = useSelector((state) => state.globalInfo);\n  const { firstName, lastName } = globalInfoState.defunt;\n\n  const bodyEmail = `Vous êtes invité à rejoindre l'Espace Souvenirs en l'hommage de ${\n    capitalisedName(firstName) || \"\"\n  } ${lastName}.\n  %0D%0A %0D%0A ${directLink}\n  %0D%0A %0D%0A Cet espace privé est destiné à recueillir vos témoignages : un message, un souvenir, une anecdote ou une photo, illustrant un moment de vie.\n  %0D%0A %0D%0A Merci pour votre précieux soutien.`;\n\n  const subjectWithUser = `Partage de l'Espace Souvenirs de ${\n    capitalisedName(firstName) || \"\"\n  } ${lastName}`;\n\n  return (\n    <div>\n      <p className=\"share-social-media-intro\">Ou directement :</p>\n      <div className=\"social-media-wrapper\">\n        <div className=\"social-media-item\">\n          <WhatsappShareButton url={directLink}>\n            <Icon name=\"whatsapp\" iconClass=\"share-icon\" />\n            <span className=\"social-media-text\">Whatsapp</span>\n          </WhatsappShareButton>\n        </div>\n        <div className=\"social-media-item\">\n          <a href={`mailto:?subject=${subjectWithUser}&body=${bodyEmail}`}>\n            <Icon name=\"share-email\" iconClass=\"share-icon\" />\n            <span className=\"social-media-text\">Mail</span>\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useRef, useState } from \"react\";\n\nimport { postResetPasswordUrl } from \"../../constants\";\nimport useForm from \"../../services/useForm\";\nimport usePostQuery from \"../../services/usePostQuery\";\nimport Button from \"../Button/Button\";\nimport Icon from \"../Icons/Icon\";\nimport Loader from \"../Loader/Loader\";\nimport FormInput from \"./FormInput\";\n\nconst initialFormState = {\n  email: \"\",\n};\n\nconst validationValues = {\n  email: {\n    pattern: {\n      value:\n        /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{2,})$/,\n      message:\n        \"Merci de renseigner une adresse email valide (p.e. email@domain.com)\",\n    },\n    isRequired: true,\n    required: \"Merci de renseigner votre adresse email\",\n  },\n};\nexport default function ForgotPasswordForm({ handleConfirmationMessage }) {\n  const [isLoader, setIsLoader] = useState(false);\n  const form = useRef(null);\n  const [wrongCredentialsMessage, setWrongCredentialsMessage] = useState(null);\n  const postResetPassword = usePostQuery();\n  const {\n    inputValues,\n    changeHandler,\n    errorHandler,\n    submitErrorsHandler,\n    errors,\n    isValid,\n  } = useForm({\n    initialFormState,\n    validationValues,\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const arrayOfErrors = Object.keys(errors);\n\n    if (arrayOfErrors.length === 0) {\n      const emptyFields = Object.entries(inputValues)\n        .filter(\n          ([key, value]) => validationValues[key].isRequired && value === \"\",\n        )\n        .map(([key]) => key);\n\n      if (emptyFields.length) {\n        submitErrorsHandler(emptyFields);\n      } else {\n        const user_obj = {\n          email: inputValues.email,\n        };\n        try {\n          setIsLoader(true);\n          postResetPassword.mutate(\n            { data: user_obj, apiUrl: postResetPasswordUrl },\n            {\n              onSuccess: async ({ data }) => {\n                if (data?.status === 200) {\n                  // check if data is not object.\n                  if (typeof data === \"string\") {\n                    setWrongCredentialsMessage(\"Merci de vérifier votre email\");\n                    setIsLoader(false);\n                  } else {\n                    setWrongCredentialsMessage(null);\n                    setIsLoader(false);\n                    handleConfirmationMessage();\n                  }\n                } else if (data?.status === 500) {\n                  setWrongCredentialsMessage(\"Merci de vérifier votre email\");\n                  setIsLoader(false);\n                } else {\n                  setIsLoader(false);\n                  setWrongCredentialsMessage(\n                    \"Nous avons rencontré un problème de connexion, merci de réessayer plus tard.\",\n                  );\n                }\n              },\n              onError: () => {\n                setIsLoader(false);\n                setWrongCredentialsMessage(\n                  \"Nous avons rencontré un problème de connexion, merci de réessayer plus tard.\",\n                );\n              },\n            },\n          );\n        } catch (err) {\n          setIsLoader(false);\n          setWrongCredentialsMessage(\n            \"Nous avons rencontré un problème de connexion, merci de réessayer plus tard.\",\n          );\n          console.error(err);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {wrongCredentialsMessage && (\n        <p className=\"wrong-credentials-message\">{wrongCredentialsMessage}</p>\n      )}\n      <form ref={form} noValidate id=\"user-login-form\" onSubmit={handleSubmit}>\n        <FormInput\n          id=\"email\"\n          name=\"email\"\n          labelText=\"E-mail\"\n          type=\"text\"\n          autocomplete=\"email\"\n          value={inputValues.email}\n          onInputChange={changeHandler}\n          onInputBlur={errorHandler}\n          error={errors.email}\n          isRequired\n        />\n        <input type=\"hidden\" name=\"form_id\" value=\"user_login_form\" />\n        <input type=\"hidden\" name=\"op\" value=\"se connecter\" />\n        <div className=\"button-loader-wrapper\">\n          <Button type=\"submit\" btnClass=\"bg-current center\">\n            <span className=\"button-text\">Envoyer</span>\n            <span className=\"separator\">&nbsp;</span>\n            <Icon name=\"next\" iconClass=\"white-icon\" />\n          </Button>\n          {isLoader && <Loader />}\n        </div>\n      </form>\n    </>\n  );\n}\n","import classNames from \"classnames\";\nimport React, { useEffect, useState } from \"react\";\n\nconst FormTextarea = React.memo(function FormTextarea({\n  id,\n  name,\n  labelText,\n  labelHidden,\n  value,\n  min,\n  max,\n  wrapperClass,\n  onInputChange,\n  onInputBlur,\n  inputPlaceholder,\n  error,\n  isRequired = false,\n  disabled = false,\n}) {\n  const [ariaDescription, setAriaDescription] = useState(null);\n  const [caracters, setCaracters] = useState(max);\n  useEffect(() => {\n    setAriaDescription(`${name}-requirement`);\n    if (error) setAriaDescription(`${ariaDescription} error-${id}`);\n  }, [error]);\n\n  const handleInputChange = (e) => {\n    onInputChange(e);\n\n    if (max) {\n      const newCaracters = Number(max) - e.target.value.length;\n      setCaracters(newCaracters);\n    }\n  };\n  return (\n    <div className={classNames(\"input-wrapper\", wrapperClass)}>\n      <label\n        htmlFor={id}\n        className={classNames(\"label\", {\n          \"label-error\": error,\n          \"sr-only\": labelHidden,\n        })}\n      >\n        {labelText}\n      </label>\n      <textarea\n        id={id}\n        name={name}\n        className={classNames(\"textarea\", {\n          \"input-error\": error,\n        })}\n        value={value}\n        min={min}\n        maxLength={max}\n        rows={10}\n        disabled={disabled}\n        required={isRequired}\n        aria-required={isRequired}\n        aria-describedby={ariaDescription}\n        onChange={handleInputChange}\n        onBlur={onInputBlur}\n        placeholder={inputPlaceholder || \"\"}\n      />\n      {error && (\n        <p className=\"error-message\" id={`error-${id}`} aria-live=\"polite\">\n          {error}\n        </p>\n      )}\n      {max && (\n        <p\n          className=\"message-photo-requirements\"\n          data-testid=\"caractersCount\"\n          id={`${name}-requirement`}\n        >\n          {caracters} caractères restants.\n        </p>\n      )}\n    </div>\n  );\n});\n\nexport default FormTextarea;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\n\nimport { defuntPhotoMachineName, postSaveFieldApiUrl } from \"../../constants\";\nimport { defuntImageUpdated } from \"../../context/globalInfoSlice\";\nimport { modalClosed } from \"../../context/modalSlice\";\nimport usePostQuery from \"../../services/usePostQuery\";\nimport Upload from \"../Upload/Upload\";\nimport ModalTitle from \"./ModalTitle\";\n\nexport default function DefuntPictureModal() {\n  const [error, setError] = useState(null);\n  const dispatch = useDispatch();\n  const params = useParams();\n  const handleCloseModal = () => {\n    dispatch(modalClosed());\n  };\n  const updateDefuntPhoto = usePostQuery({\n    parameters: {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n      withCredentials: true,\n      credentials: \"include\",\n    },\n  });\n  const saveDefuntPhoto = (files) => {\n    const formData = new FormData();\n    try {\n      if (files.length > 0) {\n        formData.append(\"file\", files[0], files[0]?.name);\n      } else {\n        formData.append(\"file\", false);\n      }\n      formData.append(\"field_machine_name\", defuntPhotoMachineName);\n      formData.append(\"entity_hash\", params.espaceId);\n      updateDefuntPhoto.mutate(\n        {\n          data: formData,\n          apiUrl: postSaveFieldApiUrl,\n        },\n        {\n          onSuccess: ({ data }) => {\n            if (data.status === 200) {\n              const defuntImgObject = {\n                url: data?.field_value?.url,\n                name: data?.field_value?.title,\n              };\n              dispatch(\n                defuntImageUpdated({\n                  defuntImage: data?.field_value ? defuntImgObject : null,\n                }),\n              );\n              dispatch(modalClosed());\n              setError(null);\n            } else {\n              console.log(\"erreur \");\n              setError(\n                \"Une erreur s'est produite. Merci de réessayer plus tard\",\n              );\n            }\n          },\n          onError: (err) => {\n            dispatch(defuntImageUpdated({ defuntImage: null }));\n            dispatch(modalClosed());\n          },\n        },\n      );\n    } catch {\n      // Something went wrong\n    }\n  };\n  return (\n    <>\n      <ModalTitle>Sélectionner une photo</ModalTitle>\n      {error && <p className=\"upload-error-message\">{error}</p>}\n      <Upload\n        name=\"defunt-image\"\n        numberOfPhotos={1}\n        isLoading={updateDefuntPhoto?.isLoading}\n        closeModal={handleCloseModal}\n        saveFile={saveDefuntPhoto}\n      />\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\n\nimport { modalClosed } from \"../../context/modalSlice\";\nimport ButtonsWrapper from \"../../layouts/ButtonsWrapper\";\nimport Button from \"../Button/Button\";\nimport ForgotPasswordForm from \"../Forms/ForgotPasswordForm\";\nimport ModalSubTitle from \"./ModalSubTitle\";\nimport ModalTitle from \"./ModalTitle\";\n\nexport default function ForgotPasswordModal() {\n  const dispatch = useDispatch();\n  const [isEmailSent, setEmailSent] = useState(false);\n\n  const handleCloseModal = () => {\n    dispatch(modalClosed());\n  };\n  const handleConfirmationMessage = () => {\n    setEmailSent(true);\n  };\n\n  if (isEmailSent) {\n    return (\n      <>\n        <ModalTitle titleModalClass=\"login-modal-title\">\n          MOT DE PASSE oublié\n        </ModalTitle>\n        <ModalSubTitle>\n          Un e-mail a été envoyé à l&apos;adresse indiquée. Merci de vérifier\n          votre boîte e-mail.\n        </ModalSubTitle>\n        <ButtonsWrapper btnWrapperClass=\"width-auto mb-30 mt-30\">\n          <Button\n            type=\"button\"\n            onClickAction={handleCloseModal}\n            btnClass=\"bg-current center\"\n          >\n            <span className=\"button-text\">Fermer la fenêtre</span>\n          </Button>\n        </ButtonsWrapper>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <ModalTitle titleModalClass=\"login-modal-title\">\n        MOT DE PASSE oublié\n      </ModalTitle>\n      <ModalSubTitle>\n        Renseigner votre email, un lien de connexion vous sera envoyé.\n      </ModalSubTitle>\n      <ForgotPasswordForm\n        handleCloseModal={handleCloseModal}\n        handleConfirmationMessage={handleConfirmationMessage}\n      />\n    </>\n  );\n}\n","import { nanoid } from \"nanoid\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { heroImageUpdated } from \"../../context/globalInfoSlice\";\nimport { modalClosed } from \"../../context/modalSlice\";\nimport Button from \"../Button/Button\";\nimport FormInput from \"../Forms/FormInput\";\nimport Icon from \"../Icons/Icon\";\nimport ModalSubTitle from \"./ModalSubTitle\";\nimport ModalTitle from \"./ModalTitle\";\n\nconst imagesArr = [\n  { name: \"sky.jpg\" },\n  { name: \"sunset.jpg\" },\n  { name: \"sky-with-birds.jpg\" },\n  { name: \"water-lily.jpg\" },\n  { name: \"mountains.jpg\" },\n  { name: \"tree.jpg\" },\n];\nconst imagesWithId = imagesArr.map((img) => ({\n  name: img.name,\n  imgId: nanoid(),\n}));\n\nexport default function HeroBannerModal() {\n  const globalInfoState = useSelector((state) => state.globalInfo);\n  const dispatch = useDispatch();\n  const [inputValue, setInputValue] = useState(globalInfoState.heroBannerImage);\n  const handleImageChange = (e) => {\n    setInputValue(e.target);\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const heroImgObject = {\n      // url: inputValue.value,\n      name: inputValue.dataset.imagename,\n    };\n\n    dispatch(heroImageUpdated({ heroBannerImage: { ...heroImgObject } }));\n    dispatch(modalClosed());\n  };\n\n  return (\n    <>\n      <ModalTitle>Sélectionner une photo d’arrière plan</ModalTitle>\n      <ModalSubTitle>\n        Personnalisez votre espace souvenirs avec la photo d’arrière plan de\n        votre choix parmi une sélection :\n      </ModalSubTitle>\n      <form noValidate onSubmit={handleSubmit}>\n        <div className=\"image-radios-wrapper\">\n          {imagesWithId.map(({ imgId, name }) => {\n            const localSrc = `${window.location.origin}/themes/custom/souvenirs/src/assets/images/bg-images/${name}`;\n            return (\n              <FormInput\n                key={imgId}\n                id={imgId}\n                wrapperClass=\"input-wrapper--radio\"\n                name=\"hero_banner_image\"\n                imageName={name}\n                labelImage={localSrc}\n                value={localSrc}\n                checked={inputValue === localSrc}\n                onInputChange={handleImageChange}\n                type=\"radio\"\n              />\n            );\n          })}\n        </div>\n        <Button\n          type=\"submit\"\n          onClickAction={handleSubmit}\n          btnClass=\"bg-current mt-30\"\n        >\n          <span className=\"button-text\">Valider cette photo</span>\n          <span className=\"separator\">&nbsp;</span>\n          <Icon name=\"next\" iconClass=\"white-icon\" />\n        </Button>\n      </form>\n    </>\n  );\n}\n","import React, { useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\n\nimport { homageMachineName, postSaveFieldApiUrl } from \"../../constants\";\nimport { homageTextUpdated } from \"../../context/globalInfoSlice\";\nimport { modalClosed } from \"../../context/modalSlice\";\nimport ButtonsWrapper from \"../../layouts/ButtonsWrapper\";\nimport { decoded } from \"../../services/formatting\";\nimport useForm from \"../../services/useForm\";\nimport usePostQuery from \"../../services/usePostQuery\";\nimport Button from \"../Button/Button\";\nimport FormTextarea from \"../Forms/FormTextarea\";\nimport Icon from \"../Icons/Icon\";\nimport ModalTitle from \"./ModalTitle\";\n\nexport default function HomageModal() {\n  const params = useParams();\n\n  const globalInfoState = useSelector((state) => state.globalInfo);\n  const dispatch = useDispatch();\n  const updateTextHommage = usePostQuery();\n  const form = useRef(null);\n\n  const initialFormState = {\n    homage_text: decoded(globalInfoState?.homageText) || \"\",\n  };\n  const validationValues = {\n    homage_text: {\n      isRequired: false,\n    },\n  };\n  const {\n    inputValues,\n    changeHandler,\n    errorHandler,\n    submitErrorsHandler,\n    errors,\n    isValid,\n  } = useForm({\n    initialFormState,\n    validationValues,\n  });\n  const closeModal = () => {\n    dispatch(modalClosed());\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const hommage_obj = {\n      field_value: inputValues.homage_text,\n      field_machine_name: homageMachineName,\n      entity_hash: params.espaceId,\n    };\n    try {\n      updateTextHommage.mutate(\n        { data: hommage_obj, apiUrl: postSaveFieldApiUrl },\n        {\n          onSuccess: (data) => {\n            dispatch(\n              homageTextUpdated({ homageText: data?.data?.field_value }),\n            );\n            dispatch(modalClosed());\n          },\n        },\n      );\n    } catch {\n      // Something went wrong\n    }\n  };\n\n  return (\n    <>\n      <ModalTitle>Rendre hommage</ModalTitle>\n\n      <form noValidate onSubmit={handleSubmit} ref={form}>\n        <FormTextarea\n          labelText=\"Texte d'introduction\"\n          id=\"homage_text\"\n          name=\"homage_text\"\n          value={inputValues.homage_text}\n          onInputChange={changeHandler}\n        />\n        <ButtonsWrapper position=\"right\">\n          <Button\n            type=\"button\"\n            btnClass=\"bg-transparent\"\n            onClickAction={closeModal}\n          >\n            Annuler\n          </Button>\n          <Button type=\"submit\" btnClass=\"bg-current\">\n            <Icon name=\"save\" iconClass=\"white-icon book-icon\" />\n            <span className=\"separator\">&nbsp;</span>\n            <span className=\"button-text\">enregistrer</span>\n          </Button>\n        </ButtonsWrapper>\n      </form>\n    </>\n  );\n}\n","import React from \"react\";\n\nimport LoginUserForm from \"../Forms/LoginUserForm\";\nimport ModalTitle from \"./ModalTitle\";\n\nexport default function LoginModal() {\n  return (\n    <>\n      <ModalTitle titleModalClass=\"login-modal-title\">\n        MON ESPACE SOUVENIRS\n      </ModalTitle>\n      <LoginUserForm />\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { messagePictureUpdated } from \"../../context/messageSlice\";\nimport { modalClosed } from \"../../context/modalSlice\";\nimport Button from \"../Button/Button\";\nimport FormInput from \"../Forms/FormInput\";\nimport Icon from \"../Icons/Icon\";\nimport ModalSubTitle from \"./ModalSubTitle\";\nimport ModalTitle from \"./ModalTitle\";\n\nconst imagesArr = [\n  { name: \"sky.jpg\" },\n  { name: \"sunset.jpg\" },\n  { name: \"sky-with-birds.jpg\" },\n  { name: \"water-lily.jpg\" },\n  { name: \"mountains.jpg\" },\n  { name: \"tree.jpg\" },\n];\nconst imagesWithId = imagesArr.map((img) => ({\n  name: img.name,\n}));\n\nexport default function MessagePictureHeroModal() {\n  const dispatch = useDispatch();\n  const [inputValue, setInputValue] = useState(null);\n  const handleImageChange = (e) => {\n    const imageName = e.target.dataset.imagename;\n    setInputValue({ url: e.target.value, name: imageName });\n  };\n  const handleSubmit = () => {\n    dispatch(\n      messagePictureUpdated({\n        messagePictures: [inputValue],\n        customMessagePicture: false,\n      }),\n    );\n    dispatch(modalClosed());\n  };\n\n  return (\n    <>\n      <ModalTitle>Sélectionner une photo d’arrière plan</ModalTitle>\n      <ModalSubTitle>\n        Personnalisez votre espace souvenirs avec la photo d’arrière plan de\n        votre choix parmi une sélection :\n      </ModalSubTitle>\n      <form noValidate onSubmit={handleSubmit}>\n        <div className=\"image-radios-wrapper\">\n          {imagesWithId.map(({ name }) => {\n            const localSrc = `${window.location.origin}/themes/custom/souvenirs/src/assets/images/bg-images/${name}`;\n            return (\n              <FormInput\n                key={name}\n                id={name}\n                wrapperClass=\"input-wrapper--radio\"\n                name=\"hero_banner_image\"\n                imageName={name}\n                labelImage={localSrc}\n                value={localSrc}\n                checked={inputValue === localSrc}\n                onInputChange={handleImageChange}\n                type=\"radio\"\n              />\n            );\n          })}\n        </div>\n        <Button\n          type=\"submit\"\n          onClickAction={handleSubmit}\n          btnClass=\"bg-current mt-30\"\n        >\n          <span className=\"button-text\">Valider cette photo</span>\n          <span className=\"separator\">&nbsp;</span>\n          <Icon name=\"next\" iconClass=\"white-icon\" />\n        </Button>\n      </form>\n    </>\n  );\n}\n","import classNames from \"classnames\";\nimport FocusTrap from \"focus-trap-react\";\nimport React, { useCallback, useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { modalClosed } from \"../../context/modalSlice\";\nimport Icon from \"../Icons/Icon\";\nimport DefuntPictureModal from \"./DefuntPictureModal\";\nimport ForgotPasswordModal from \"./ForgotPasswordModal\";\nimport HeroBannerModal from \"./HeroBannerModal\";\nimport HomageModal from \"./HomageModal\";\nimport LoginModal from \"./LoginModal\";\nimport MessagePictureHeroModal from \"./MessagePictureHeroModal\";\nimport ShareModal from \"./ShareModal\";\n\nexport default function Modal() {\n  const modalState = useSelector((state) => state.modal);\n  const dispatch = useDispatch();\n  const closeButton = useRef(null);\n\n  const handleUserKeyPress = useCallback((event) => {\n    const { key, keyCode } = event;\n    if (keyCode === 27 || key === \"Escape\") {\n      dispatch(modalClosed());\n    }\n  }, []);\n\n  const closeModal = () => {\n    dispatch(modalClosed());\n  };\n\n  useEffect(() => {\n    if (closeButton.current) closeButton.current.focus();\n    window.addEventListener(\"keydown\", handleUserKeyPress);\n    return () => {\n      dispatch(modalClosed());\n      window.removeEventListener(\"keydown\", handleUserKeyPress);\n    };\n  }, []);\n\n  const MODAL_COMPONENTS = {\n    HomageModal,\n    LoginModal,\n    MessagePictureHeroModal,\n    HeroBannerModal,\n    DefuntPictureModal,\n    ShareModal,\n    ForgotPasswordModal,\n  };\n  const modalContent = () => {\n    if (!modalState.modalType) return null;\n\n    const SpecificModal = MODAL_COMPONENTS[modalState.modalType];\n    return <SpecificModal />;\n  };\n\n  if (!modalState.isOpen) return null;\n  return ReactDOM.createPortal(\n    <FocusTrap>\n      <div>\n        <div className=\"modal-overlay\" onClick={closeModal} />\n        <div className=\"modal-wrapper\" role=\"dialog\" data-testid=\"modalTest\">\n          <div className={classNames(\"modal\", modalState.theme)}>\n            {(modalState.hasCloseButton || !modalState.modalType) && (\n              <button\n                type=\"button\"\n                className=\"modal-close\"\n                ref={closeButton}\n                onClick={closeModal}\n              >\n                <Icon name=\"cross\" iconClass=\"close-icon\" />\n                <span className=\"sr-only\">Fermer la popin</span>\n              </button>\n            )}\n            <div role=\"document\">{modalContent()}</div>\n          </div>\n        </div>\n      </div>\n    </FocusTrap>,\n    document.getElementById(\"react-portal\"),\n  );\n}\n","import React from \"react\";\n\nexport default function ModalSubTitle({\n  children,\n  subtitleClass = \"modal-subtitle\",\n}) {\n  return <p className={subtitleClass}>{children}</p>;\n}\n","import React from \"react\";\n\nexport default function ModalTitle({\n  titleModalClass = \"modal-title\",\n  children,\n}) {\n  return <h2 className={titleModalClass}>{children}</h2>;\n}\n","import React from \"react\";\n\nimport ShareDirectLink from \"../DefuntInfo/ShareDirectLink\";\nimport ShareSocialMedias from \"../DefuntInfo/ShareSocialMedias\";\nimport ModalTitle from \"./ModalTitle\";\n\nexport default function ShareModal() {\n  return (\n    <>\n      <ModalTitle>Partager l’espace à vos proches</ModalTitle>\n      <ShareDirectLink />\n      <ShareSocialMedias />\n    </>\n  );\n}\n","import img from \"Images/profile-grey.jpg\";\nimport React from \"react\";\n\nexport default function DefuntModalImagePlaceholder() {\n  return (\n    <div className=\"image-preview-placeholder\">\n      <span>Photo</span>\n      <div className=\"image-preview\">\n        <img\n          alt=\"\"\n          className=\"image-preview-image\"\n          width=\"200\"\n          height=\"200\"\n          src={img}\n        />\n      </div>\n    </div>\n  );\n}\n","import classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nimport Button from \"../Button/Button\";\nimport Icon from \"../Icons/Icon\";\n\nexport default function ImagePreview({\n  source,\n  imgName,\n  imgSize,\n  deletePhoto,\n  modal,\n}) {\n  const imageSize = imgSize ? Math.ceil(imgSize / 1000) : null;\n\n  const handleDeletePhoto = () => {\n    deletePhoto(imgName);\n  };\n\n  return (\n    <div\n      className={classNames(\n        \"image-preview-wrapper\",\n        modal && \"image-preview-wrapper--modal\",\n      )}\n    >\n      {modal && <span>Photo</span>}\n      <div className=\"image-preview\">\n        <img\n          alt=\"\"\n          className=\"image-preview-image\"\n          width=\"200\"\n          height=\"200\"\n          src={source}\n        />\n      </div>\n      {imgName && <span className=\"preview-description--bold\">{imgName}</span>}\n      {imageSize && <span className=\"preview-description\">{imageSize}Kb</span>}\n      <Button\n        ariaLabel={`supprimer ${imgName}`}\n        type=\"button\"\n        btnClass=\"delete-image-button\"\n        onClickAction={handleDeletePhoto}\n      >\n        <Icon name=\"delete\" iconClass=\"delete-image-icon\" />\n      </Button>\n    </div>\n  );\n}\n\nImagePreview.propTypes = {\n  source: PropTypes.string.isRequired,\n  imgName: PropTypes.string,\n  deletePhoto: PropTypes.func.isRequired,\n  imgSize: PropTypes.number,\n  modal: PropTypes.bool,\n};\n","import classNames from \"classnames\";\nimport React from \"react\";\n\nimport Icon from \"../Icons/Icon\";\n\nexport default function InputWithDescription({\n  inputName,\n  handleCompressedUpload,\n  hasImageRequirement,\n  btnClass,\n  inputDisabled = false,\n  describedBy,\n  inputFile,\n}) {\n  return (\n    <div className=\"input-file-wrapper\">\n      <input\n        accept=\"image/png, image/jpeg, image/jpg\"\n        type=\"file\"\n        id={inputName}\n        ref={inputFile}\n        name={inputName}\n        onChange={handleCompressedUpload}\n        disabled={inputDisabled}\n        aria-describedby={`input-file-description ${describedBy}`}\n      />\n      <label\n        htmlFor={inputName}\n        className={classNames(\"file-input-label\", btnClass)}\n      >\n        <Icon\n          name=\"upload\"\n          iconClass={\n            btnClass && btnClass === \"bg-current\"\n              ? \"white-icon\"\n              : \"current-icon\"\n          }\n        />\n        <span className=\"separator\">&nbsp;</span>\n        Déposer votre photo\n      </label>\n      {hasImageRequirement && (\n        <p id=\"input-file-description\" className=\"input-file-description\">\n          Les formats supportés : PNG/JPG/JPEG/BMP - 2 Mo maximum\n        </p>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable no-new */\nimport Compressor from \"compressorjs\";\nimport PropTypes from \"prop-types\";\nimport React, { useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport ButtonsWrapper from \"../../layouts/ButtonsWrapper\";\nimport Button from \"../Button/Button\";\nimport Icon from \"../Icons/Icon\";\nimport Loader from \"../Loader/Loader\";\nimport DefuntModalImagePlaceholder from \"./DefuntModalImagePlaceholder\";\nimport ImagePreview from \"./ImagePreview\";\nimport InputWithDescription from \"./InputWithDescription\";\n\nexport default function Upload({\n  name,\n  numberOfPhotos,\n  closeModal,\n  saveFile,\n  isLoading = false,\n  hasImageRequirement = true,\n  dispatchCbAction,\n  btnClass,\n}) {\n  const globalInfoState = useSelector((state) => state.globalInfo);\n  const [compressedFiles, setcompressedFiles] = useState(\n    globalInfoState?.defuntImage ? [globalInfoState?.defuntImage] : [],\n  );\n  const [errorMessage, setErrorMessage] = useState(null);\n  const inputFile = useRef();\n\n  const handleCompressedUpload = (e) => {\n    const image = e.target.files[0];\n    const fileNames = compressedFiles.map((file) => file.name);\n    if (fileNames.length >= numberOfPhotos) {\n      setErrorMessage(\n        `Vous ne pouvez pas ajouter plus de ${numberOfPhotos} ${\n          numberOfPhotos === 1 ? \"photo\" : \"photos\"\n        }`,\n      );\n      return;\n    }\n\n    if (image.size >= 2097152) {\n      setErrorMessage(\"Votre photo ne peut pas dépasser 2 Mo\");\n      return;\n    }\n\n    if (\n      image.type !== \"image/jpeg\" &&\n      image.type !== \"image/png\" &&\n      image.type !== \"image/bmp\"\n    ) {\n      setErrorMessage(\n        \"Vous pouvez télécharge des photo au format PNG/JPG/JPEG/BMP uniquement\",\n      );\n      return;\n    }\n\n    if (\n      fileNames.length === 0 ||\n      (fileNames.length > 0 && !fileNames.includes(image.name))\n    ) {\n      setErrorMessage(null);\n\n      new Compressor(image, {\n        quality: 0.8,\n        success: (compressedResult) => {\n          setcompressedFiles([...compressedFiles, compressedResult]);\n          dispatchCbAction &&\n            dispatchCbAction([...compressedFiles, compressedResult]);\n        },\n      });\n    }\n  };\n\n  const handleDeletePhoto = () => {\n    if (inputFile.current) {\n      inputFile.current.value = \"\";\n    }\n    setcompressedFiles([]);\n    setErrorMessage(null);\n  };\n\n  const handleSaveFile = () => {\n    saveFile(compressedFiles);\n  };\n\n  const handleImagePreview = (files) => {\n    if (files && files.length > 0) {\n      return files.map((file) => (\n        <ImagePreview\n          key={file.name}\n          source={file.url || window.URL.createObjectURL(file)}\n          imgName={file.name}\n          imgSize={file.size}\n          deletePhoto={handleDeletePhoto}\n          modal={true}\n        />\n      ));\n    }\n    if (files && files.length === 0) {\n      return <DefuntModalImagePlaceholder />;\n    }\n    return null;\n  };\n  return (\n    <>\n      {errorMessage && <p className=\"upload-error-message\">{errorMessage}</p>}\n      <div className=\"upload-defunt-image-wrapper\">\n        {handleImagePreview(compressedFiles)}\n        <div className=\"modal-image-description\">\n          <p className=\"modal-photo-subtitle\">\n            Personnaliser l’Espace Souvenirs en y ajoutant une photo du défunt\n          </p>\n          <p className=\"input-file-description\">\n            Pour un affichage optimum, privilégier des photos au format portrait\n          </p>\n          <InputWithDescription\n            inputName={name}\n            handleCompressedUpload={handleCompressedUpload}\n            btnClass=\"bg-current\"\n            inputFile={inputFile}\n            hasImageRequirement={hasImageRequirement}\n          />\n        </div>\n        <ButtonsWrapper position=\"right\">\n          <Button\n            type=\"button\"\n            btnClass=\"bg-transparent cancel-button\"\n            onClickAction={closeModal}\n          >\n            Annuler\n          </Button>\n          <div className=\"button-loader-wrapper\">\n            <Button\n              type=\"button\"\n              btnClass=\"bg-current\"\n              disabled={isLoading}\n              onClickAction={handleSaveFile}\n            >\n              <Icon name=\"save\" iconClass=\"white-icon book-icon\" />\n              <span className=\"separator\">&nbsp;</span>\n              <span className=\"button-text\">enregistrer</span>\n            </Button>\n            {isLoading && <Loader position=\"relative\" />}\n          </div>\n        </ButtonsWrapper>\n      </div>\n    </>\n  );\n}\n\nUpload.defaultProps = {\n  numberOfPhotos: 1,\n};\nUpload.propTypes = {\n  name: PropTypes.string.isRequired,\n  numberOfPhotos: PropTypes.number,\n};\n","import classNames from \"classnames\";\nimport React from \"react\";\n\nexport default function ButtonsWrapper({\n  position,\n  children,\n  btnWrapperClass,\n}) {\n  return (\n    <div className={classNames(\"buttons-wrapper\", position, btnWrapperClass)}>\n      {children}\n    </div>\n  );\n}\n","import { decode } from \"html-entities\";\nimport React from \"react\";\n\nimport { lineBreak } from \"../constants\";\n\nexport const dateFormat = (date) => {\n  return `le ${date.toLocaleString(\"fr-FR\", {\n    day: \"numeric\",\n    month: \"long\",\n    year: \"numeric\",\n  })}`;\n};\n\nexport const hoursFormat = (date) => {\n  return date.toLocaleString(\"fr-FR\", {\n    hour: \"numeric\",\n    minute: \"numeric\",\n  });\n};\n\nexport const dateHoursFormat = (date) => {\n  const hours = date.toLocaleString(\"fr-FR\", {\n    hour: \"numeric\",\n    minute: \"numeric\",\n  });\n  const formattedHours = hours.replace(/:/i, \"h\");\n\n  return `le ${date.toLocaleString(\"fr-FR\", {\n    day: \"numeric\",\n    month: \"long\",\n    year: \"numeric\",\n  })} à ${formattedHours}`;\n};\n\nexport const timeStampToDate = (date) => {\n  if (date) {\n    return new Date(+date * 1000);\n  }\n  return new Date();\n};\n\nexport const getFullYear = (fullDate) => {\n  const date = new Date(fullDate);\n  if (!Number.isNaN(date.getFullYear())) return date.getFullYear();\n  return null;\n};\n\nexport const isEmptyArray = (array) => {\n  return Array.isArray(array) && array.length === 0;\n};\n\nexport const slicedArray = (array, begin, end) => {\n  return array.slice(begin, end);\n};\n\nexport const civilities = {\n  female: \"Mme\",\n  male: \"M.\",\n};\nexport const decoded = decode;\n\nexport const capitalisedName = (name) => {\n  return name.replace(/^\\w/, (c) => c.toUpperCase());\n};\n\nexport const textWithBreaks = (text) => {\n  if (typeof text === \"string\") {\n    const separators = /<br \\/>|<br\\/>|<br>|\\n|\\r\\n/;\n    return text.split(separators).map(function (item, index) {\n      if (\n        item !== lineBreak &&\n        item !== \"\" &&\n        item !== \"\\n\" &&\n        item !== \"\\r\\n\"\n      ) {\n        return (\n          <span key={index}>\n            {item}\n            <br />\n          </span>\n        );\n      }\n      return null;\n    });\n  }\n  return text;\n};\n","import React, { useContext } from \"react\";\n\nimport { ViewportContext } from \"../context/viewportProvider\";\n\nexport default function useViewport() {\n  const { width, height } = useContext(ViewportContext);\n  return { width, height };\n}\n"],"names":["React","useRef","mobileBreakpoint","ButtonsWrapper","useViewport","Button","Icon","directLink","window","location","href","ShareDirectLink","width","linkText","hanleCopyLink","navigator","clipboard","writeText","current","select","copied","document","execCommand","useSelector","EmailShareButton","WhatsappShareButton","capitalisedName","ShareSocialMedias","globalInfoState","state","globalInfo","defunt","firstName","lastName","bodyEmail","subjectWithUser","useState","postResetPasswordUrl","useForm","usePostQuery","Loader","FormInput","initialFormState","email","validationValues","pattern","value","message","isRequired","required","ForgotPasswordForm","handleConfirmationMessage","isLoader","setIsLoader","form","wrongCredentialsMessage","setWrongCredentialsMessage","postResetPassword","inputValues","changeHandler","errorHandler","submitErrorsHandler","errors","isValid","handleSubmit","e","preventDefault","arrayOfErrors","Object","keys","length","emptyFields","entries","filter","key","map","user_obj","mutate","data","apiUrl","onSuccess","status","onError","err","console","error","classNames","useEffect","FormTextarea","memo","id","name","labelText","labelHidden","min","max","wrapperClass","onInputChange","onInputBlur","inputPlaceholder","disabled","ariaDescription","setAriaDescription","caracters","setCaracters","handleInputChange","newCaracters","Number","target","useDispatch","useParams","defuntPhotoMachineName","postSaveFieldApiUrl","defuntImageUpdated","modalClosed","Upload","ModalTitle","DefuntPictureModal","setError","dispatch","params","handleCloseModal","updateDefuntPhoto","parameters","headers","withCredentials","credentials","saveDefuntPhoto","files","formData","FormData","append","espaceId","defuntImgObject","url","field_value","title","defuntImage","log","isLoading","ModalSubTitle","ForgotPasswordModal","isEmailSent","setEmailSent","nanoid","heroImageUpdated","imagesArr","imagesWithId","img","imgId","HeroBannerModal","heroBannerImage","inputValue","setInputValue","handleImageChange","heroImgObject","dataset","imagename","localSrc","origin","homageMachineName","homageTextUpdated","decoded","HomageModal","updateTextHommage","homage_text","homageText","closeModal","hommage_obj","field_machine_name","entity_hash","LoginUserForm","LoginModal","messagePictureUpdated","MessagePictureHeroModal","imageName","messagePictures","customMessagePicture","FocusTrap","useCallback","ReactDOM","ShareModal","Modal","modalState","modal","closeButton","handleUserKeyPress","event","keyCode","focus","addEventListener","removeEventListener","MODAL_COMPONENTS","modalContent","modalType","SpecificModal","isOpen","createPortal","theme","hasCloseButton","getElementById","children","subtitleClass","titleModalClass","DefuntModalImagePlaceholder","PropTypes","ImagePreview","source","imgName","imgSize","deletePhoto","imageSize","Math","ceil","handleDeletePhoto","propTypes","string","func","number","bool","InputWithDescription","inputName","handleCompressedUpload","hasImageRequirement","btnClass","inputDisabled","describedBy","inputFile","Compressor","numberOfPhotos","saveFile","dispatchCbAction","compressedFiles","setcompressedFiles","errorMessage","setErrorMessage","image","fileNames","file","size","type","includes","quality","success","compressedResult","handleSaveFile","handleImagePreview","URL","createObjectURL","defaultProps","position","btnWrapperClass","decode","lineBreak","dateFormat","date","toLocaleString","day","month","year","hoursFormat","hour","minute","dateHoursFormat","hours","formattedHours","replace","timeStampToDate","Date","getFullYear","fullDate","isNaN","isEmptyArray","array","Array","isArray","slicedArray","begin","end","slice","civilities","female","male","c","toUpperCase","textWithBreaks","text","separators","split","item","index","useContext","ViewportContext","height"],"sourceRoot":""}