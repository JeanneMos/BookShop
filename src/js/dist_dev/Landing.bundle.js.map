{"version":3,"file":"Landing.bundle.js","mappings":"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","sources":["webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Search/Search.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/components/Search/SearchList.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/js/pages/Landing.js","webpack://espace-souvenir/./docroot/themes/custom/souvenirs/src/assets/images/bg-images/img-bg.jpg"],"sourcesContent":["import React, { useState } from \"react\";\n\nimport { APIJsonPlaceholder } from \"../../constants\";\nimport useGetQuery from \"../../services/useGetQuery\";\nimport Icon from \"../Icons/Icon\";\nimport Loader from \"../Loader/Loader\";\nimport SearchList from \"./SearchList\";\n\nexport default function Search() {\n  const [profiles, getProfiles] = useState([]);\n  const [userInput, setUserInput] = useState(\"\");\n\n  const { data, error, isFetching } = useGetQuery({\n    key: \"posts\",\n    API: APIJsonPlaceholder,\n    staleTime: 30000,\n    cacheTime: Infinity,\n  });\n\n  const handleUserInput = ({ target }) => {\n    setUserInput(target.value);\n    if (target.value.length > 3 && data && data.length) {\n      const searchedValues = data.filter((post) =>\n        post.title.includes(target.value.toLowerCase()),\n      );\n      const firstItemsFromValues =\n        searchedValues.length > 5 ? searchedValues.slice(0, 5) : searchedValues;\n      getProfiles(firstItemsFromValues);\n    } else {\n      getProfiles([]);\n    }\n  };\n  const handleSearch = (e) => {\n    e.preventDefault();\n  };\n  return (\n    <div className=\"search-wrapper\">\n      <form onSubmit={handleSearch} className=\"search-form\">\n        <fieldset>\n          <legend>Recherche d&apos;un espace souvenirs</legend>\n          <div className=\"search\">\n            <input\n              data-testid=\"searchInput\"\n              type=\"search\"\n              placeholder=\"Rechercher le nom de votre proche disparu\"\n              value={userInput}\n              onChange={handleUserInput}\n            />\n            <button type=\"submit\" className=\"search-button\">\n              <Icon name=\"recherche\" iconClass=\"search-icon\" />\n            </button>\n          </div>\n        </fieldset>\n      </form>\n\n      {isFetching ? <Loader position=\"center\" /> : null}\n      {error ? \"Désolé il y a une erreur, merci de réessayer plus tard\" : null}\n      {Number.isNaN(data) && (\n        <p className=\"fetch-error-message\">\n          Nous avons rencontré une erreur, merci de réessayer plus tard\n        </p>\n      )}\n      {profiles && profiles.length ? <SearchList profiles={profiles} /> : null}\n    </div>\n  );\n}\n","import Img from \"Images/bg-images/img-bg.jpg\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nexport default function SearchList({ profiles }) {\n  return (\n    <ul className=\"search-results\" data-testid=\"searchResults\">\n      {profiles.map((profile) => (\n        <li className=\"search-result-item\" key={`profile_${profile.id}`}>\n          <img width=\"110\" height=\"60\" alt=\"\" src={Img} />\n          <div className=\"search-result-description\">{profile.title}</div>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nSearchList.propTypes = {\n  profiles: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.any)).isRequired,\n};\n","import React, { useEffect } from \"react\";\n\nimport Search from \"../components/Search/Search\";\nimport Layout from \"../layouts/Layout\";\nimport scrollSmoothToElement from \"../services/scrollSmoothToElement\";\n\nexport default function Landing() {\n  useEffect(() => {\n    document.title = \"Landing page\";\n    scrollSmoothToElement();\n  }, []);\n\n  return (\n    <Layout>\n      <div className=\"landing-wrapper\">\n        <Search />\n      </div>\n    </Layout>\n  );\n}\n","export default __webpack_public_path__ + \"80c24e06fcdc2d8c4176f98e2a86b2ca.jpg\";"],"names":["React","useState","APIJsonPlaceholder","useGetQuery","Icon","Loader","SearchList","Search","profiles","getProfiles","userInput","setUserInput","key","API","staleTime","cacheTime","Infinity","data","error","isFetching","handleUserInput","target","value","length","searchedValues","filter","post","title","includes","toLowerCase","firstItemsFromValues","slice","handleSearch","e","preventDefault","Number","isNaN","Img","PropTypes","map","profile","id","propTypes","arrayOf","objectOf","any","isRequired","useEffect","Layout","scrollSmoothToElement","Landing","document"],"sourceRoot":""}